# üí∏ MONEY SINK - PENJELASAN LENGKAP & DETAIL

## üìñ APA ITU MONEY SINK?

**Money Sink** adalah mekanisme dalam game ekonomi yang **mengeluarkan uang dari sirkulasi ekonomi** secara permanen atau semi-permanen. Tujuannya adalah:

1. **Mencegah Inflation**: Jika uang terus masuk tapi tidak ada yang keluar, nilai uang akan turun (inflasi)
2. **Menjaga Balance**: Memastikan income dan spending seimbang
3. **Memberi Tujuan**: User punya alasan untuk spend uang (bukan hanya hoard)
4. **Mengontrol Wealth Gap**: Mencegah user terlalu kaya tanpa batas

### üîÑ **Siklus Ekonomi Sehat**

```
Income (Uang Masuk)
    ‚Üì
User Balance
    ‚Üì
Money Sink (Uang Keluar) ‚Üê INI YANG KITA PERLU!
    ‚Üì
Uang Hilang dari Ekonomi
```

**Target Ratio**: Income : Money Sink = **60:40** sampai **70:30**
- Artinya: Untuk setiap 100k income, harus ada 30-40k yang keluar via money sink

---

## üìä MONEY SINK YANG SUDAH ADA

### 1. **üõí WARUNG ITEMS** (Consumables)
**Total Spending Potential**: ~200k per user per hari

| Item | Harga | Frekuensi | Total/Hari |
|------|-------|-----------|------------|
| Surya Batang | 3k | 5-10x | 15k-30k |
| Sampoerna | 2.5k | 5-10x | 12.5k-25k |
| Marlboro | 3k | 3-5x | 9k-15k |
| Esse Berry | 3.5k | 2-3x | 7k-10.5k |
| Cerutu Sultan | 25k | 1-2x | 25k-50k |
| Pod Bekas (Gacha) | 50k | 1-3x | 50k-150k |
| Iceland Vodka | 150k | 1x | 150k |
| Anggur Merah | 120k | 1x | 120k |
| Intisari | 100k | 1x | 100k |

**Efektivitas**: ‚≠ê‚≠ê‚≠ê (Sedang)
- ‚úÖ Consumable = repeat purchase
- ‚ùå Harga masih relatif murah untuk user kaya
- ‚ùå User bisa skip jika tidak butuh

---

### 2. **üçΩÔ∏è KANTIN** (Food & Drinks)
**Total Spending Potential**: ~50k per user per hari

| Item | Harga | Frekuensi | Total/Hari |
|------|-------|-----------|------------|
| Makanan | 1k-5k | 5-10x | 5k-50k |
| Minuman | 1k-3k | 5-10x | 5k-30k |

**Efektivitas**: ‚≠ê‚≠ê (Rendah)
- ‚úÖ Essential (reduce hunger/thirst)
- ‚ùå Harga sangat murah
- ‚ùå Tidak cukup untuk user kaya

---

### 3. **üè™ SHOP ITEMS** (Tickets, Custom Roles)
**Total Spending Potential**: Varies (one-time atau periodic)

| Item | Harga | Type | Frequency |
|------|-------|------|-----------|
| Custom Role Tickets | 50k-500k | One-time | Per role |
| Ticket Box | Varies | Periodic | Per flash sale |

**Efektivitas**: ‚≠ê‚≠ê‚≠ê‚≠ê (Baik)
- ‚úÖ High value items
- ‚úÖ One-time purchase = permanent money sink
- ‚ùå Tidak semua user butuh
- ‚ùå Tidak repeatable

---

### 4. **üéÆ GAMBLING BETS** (House Edge)
**Total Money Sink**: ~2-5% dari total bets

**Mechanism**: House edge di setiap game
- Coinflip: 50% win = 0% house edge (TIDAK ADA MONEY SINK!)
- Slots: ~5-10% house edge
- Math: ~10-20% house edge
- Crash: ~4% house edge
- BigSlot: ~5-8% house edge

**Efektivitas**: ‚≠ê‚≠ê‚≠ê (Sedang)
- ‚úÖ Automatic (setiap bet)
- ‚úÖ Scales dengan user wealth
- ‚ùå Coinflip tidak ada house edge = money sink 0%
- ‚ùå User yang menang = uang tetap di ekonomi

**Perhitungan**:
- Jika total bets per hari = 50M
- House edge average = 5%
- Money sink = 50M √ó 5% = **2.5M per hari**

---

### 5. **üéØ EVENT ENTRY FEES**
**Total Spending Potential**: Varies

- Event entry: 10k-100k per event
- UNO prize pool: User bayar, tapi uang tetap di ekonomi (bukan money sink!)

**Efektivitas**: ‚≠ê‚≠ê (Rendah)
- ‚ùå Tidak semua user join event
- ‚ùå UNO prize pool = transfer, bukan sink

---

### 6. **‚öîÔ∏è TAWURAN HOSPITAL FEE**
**Total Spending Potential**: 20k per user per loss

- Hospital fee: 20k jika kalah tawuran
- Frekuensi: 1-3x per hari per user aktif

**Efektivitas**: ‚≠ê (Sangat Rendah)
- ‚ùå Hanya jika kalah
- ‚ùå Jumlah kecil
- ‚ùå Tidak semua user main tawuran

---

### 7. **üé≠ ESKUL COST**
**Total Spending Potential**: One-time 50k-200k

- Join eskul: 50k-200k (one-time)
- Tidak repeatable

**Efektivitas**: ‚≠ê‚≠ê (Rendah)
- ‚ùå One-time only
- ‚ùå Tidak semua user join

---

### 8. **üëª KHODAM SUMMON**
**Total Spending Potential**: 100k per summon

- Summon cost: 100k
- Frekuensi: 1-5x per user (gacha system)

**Efektivitas**: ‚≠ê‚≠ê‚≠ê (Sedang)
- ‚úÖ Gacha = repeatable
- ‚úÖ High cost
- ‚ùå Tidak semua user summon

---

## üìà ANALISA EFEKTIVITAS SAAT INI

### **Total Money Sink Per User Aktif Per Hari**

| Category | Low Estimate | High Estimate | Average |
|----------|--------------|---------------|---------|
| Warung | 50k | 200k | 125k |
| Kantin | 10k | 50k | 30k |
| Shop | 0k | 500k | 50k (one-time) |
| Gambling (House Edge) | 10k | 100k | 50k |
| Event | 0k | 100k | 20k |
| Tawuran | 0k | 60k | 10k |
| Khodam | 0k | 500k | 50k (periodic) |
| **TOTAL** | **70k** | **1,510k** | **~335k** |

### **Total Income Per User Aktif Per Hari**

| Source | Amount |
|--------|--------|
| Daily | 15k |
| Work (10x) | 30k-50k |
| Missions | 30k-75k |
| Gambling Win | 0k-500k (variable) |
| Heist | 0k-200k (periodic) |
| Tawuran | 0k-50k (periodic) |
| **TOTAL** | **75k-890k** |

### **Masalah yang Teridentifikasi**

1. **Income > Money Sink untuk User Baru**
   - Income: 75k-150k per hari
   - Money Sink: 70k-100k per hari
   - **Surplus: 5k-50k per hari** ‚úÖ Masih OK

2. **Income >> Money Sink untuk User Kaya**
   - Income: 200k-890k per hari (dari gambling)
   - Money Sink: 200k-500k per hari
   - **Surplus: 0k-390k per hari** ‚ùå TERLALU BANYAK!

3. **Gambling Tidak Sink Cukup**
   - User bet 10M, menang 5M = net +5M
   - House edge 5% = hanya sink 500k
   - **User masih untung 4.5M** ‚ùå

4. **Tidak Ada Recurring Cost untuk User Kaya**
   - User kaya bisa hoard tanpa consequence
   - Tidak ada "maintenance cost" atau "tax"

---

## ‚úÖ MONEY SINK YANG DISARANKAN

### 1. **üí∞ TAX SYSTEM** (Priority: HIGH)

#### **A. Transfer Tax**
**Mechanism**: Tax untuk transfer antar user

```javascript
// Pseudo-code
if (transferAmount > 1_000_000) {
    const tax = Math.floor(transferAmount * 0.01); // 1% tax
    const netTransfer = transferAmount - tax;
    // Transfer netTransfer ke target
    // Tax hilang dari ekonomi (money sink)
}
```

**Details**:
- **Threshold**: Transfer >1M
- **Tax Rate**: 1%
- **Max Tax**: 100k (untuk transfer 10M+)
- **Exemption**: Transfer <1M = no tax

**Efektivitas**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (Sangat Tinggi)
- ‚úÖ Automatic
- ‚úÖ Scales dengan wealth
- ‚úÖ Tidak bisa dihindari untuk transfer besar
- ‚úÖ Fair (hanya kena user yang transfer besar)

**Perhitungan**:
- Jika 10 user transfer 5M per hari
- Tax = 10 √ó 5M √ó 1% = **500k per hari**

---

#### **B. Maintenance Cost (Wealth Tax)**
**Mechanism**: Auto-deduct untuk user dengan balance tinggi

```javascript
// Pseudo-code (run daily via scheduler)
const users = db.prepare('SELECT user_id, uang_jajan FROM user_economy WHERE uang_jajan > 10_000_000').all();

users.forEach(user => {
    const balance = user.uang_jajan;
    const maintenance = Math.floor(balance * 0.001); // 0.1% per hari
    const newBalance = balance - maintenance;
    
    db.prepare('UPDATE user_economy SET uang_jajan = ? WHERE user_id = ?').run(newBalance, user.user_id);
    
    // Log: "Maintenance cost: -Rp X"
});
```

**Details**:
- **Threshold**: Balance >10M
- **Rate**: 0.1% per hari
- **Calculation**: Compound (dari balance saat ini)
- **Schedule**: Run setiap hari jam 00:00

**Efektivitas**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (Sangat Tinggi)
- ‚úÖ Automatic
- ‚úÖ Progressive (semakin kaya, semakin banyak tax)
- ‚úÖ Encourages spending (user akan spend daripada kena tax)
- ‚úÖ Fair (hanya kena user kaya)

**Perhitungan**:
- User dengan 100M balance
- Maintenance = 100M √ó 0.1% = **100k per hari**
- User dengan 1B balance
- Maintenance = 1B √ó 0.1% = **1M per hari**

**Total Sink**:
- Jika 5 user dengan average 50M balance
- Total = 5 √ó 50M √ó 0.1% = **250k per hari**

---

### 2. **üè¶ BANKING SYSTEM** (Priority: HIGH)

#### **A. Bank Fees**
**Mechanism**: Fee untuk transaksi bank

```javascript
// Deposit fee
const depositFee = Math.floor(amount * 0.005); // 0.5% fee
const netDeposit = amount - depositFee;

// Withdraw fee
const withdrawFee = Math.floor(amount * 0.01); // 1% fee
const netWithdraw = amount - withdrawFee;
```

**Details**:
- **Deposit Fee**: 0.5% (optional - bisa dihilangkan untuk encourage deposit)
- **Withdraw Fee**: 1% (money sink utama)
- **Loan Interest**: 2% per hari (compound)
- **Late Payment Penalty**: 5% jika tidak bayar 7 hari

**Efektivitas**: ‚≠ê‚≠ê‚≠ê‚≠ê (Tinggi)
- ‚úÖ Encourages deposit (uang di bank = tidak kena maintenance)
- ‚úÖ Withdraw fee = money sink
- ‚úÖ Loan interest = money sink besar
- ‚úÖ Late penalty = money sink

**Perhitungan**:
- 20 user withdraw 1M per hari
- Fee = 20 √ó 1M √ó 1% = **200k per hari**
- 5 user pinjam 5M, interest 2% = 5 √ó 5M √ó 2% = **500k per hari**

---

### 3. **üíé LUXURY ITEMS** (Priority: MEDIUM)

#### **A. Cosmetic Items**
**Mechanism**: Item mahal dengan cosmetic benefits

```javascript
const LUXURY_ITEMS = {
    'golden_badge': {
        price: 1_000_000,
        desc: 'Badge emas di profile (permanent)',
        effect: 'prestige'
    },
    'vip_title': {
        price: 5_000_000,
        desc: 'VIP Title "Sultan" (permanent)',
        effect: 'prestige'
    },
    'custom_emoji': {
        price: 10_000_000,
        desc: 'Custom emoji untuk server (permanent)',
        effect: 'prestige'
    },
    'mansion': {
        price: 50_000_000,
        desc: 'Virtual mansion (permanent)',
        effect: 'prestige + daily bonus 10k'
    }
};
```

**Details**:
- **Price Range**: 1M - 50M
- **Type**: One-time purchase (permanent)
- **Benefit**: Cosmetic/prestige (tidak game-breaking)
- **Target**: User kaya yang mau flex

**Efektivitas**: ‚≠ê‚≠ê‚≠ê‚≠ê (Tinggi)
- ‚úÖ High value = money sink besar
- ‚úÖ Prestige = motivasi untuk spend
- ‚úÖ Permanent = one-time sink besar
- ‚ùå Tidak semua user mau beli

**Perhitungan**:
- 1 user beli mansion = **50M sink** (one-time)
- 10 user beli golden badge = **10M sink** (one-time)

---

#### **B. Consumable Luxury Items**
**Mechanism**: Item mahal yang consumable

```javascript
const LUXURY_CONSUMABLES = {
    'champagne': {
        price: 500_000,
        desc: 'Champagne premium (stress -100, luck +20% 1 jam)',
        consumable: true
    },
    'golden_cigar': {
        price: 1_000_000,
        desc: 'Cerutu emas (stress -100, work limit +10 1 hari)',
        consumable: true
    },
    'luck_potion': {
        price: 2_000_000,
        desc: 'Potion keberuntungan (+50% luck 24 jam)',
        consumable: true
    }
};
```

**Details**:
- **Price Range**: 500k - 2M
- **Type**: Consumable (repeatable)
- **Benefit**: Strong buffs (worth the price)
- **Target**: User kaya yang mau optimize

**Efektivitas**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (Sangat Tinggi)
- ‚úÖ High value = money sink besar
- ‚úÖ Consumable = repeatable sink
- ‚úÖ Strong benefit = worth it untuk user kaya
- ‚úÖ Encourages spending untuk advantage

**Perhitungan**:
- 5 user beli luck potion per hari = 5 √ó 2M = **10M per hari**

---

### 4. **üèòÔ∏è GUILD UPKEEP** (Priority: MEDIUM)

**Mechanism**: Guild perlu bayar maintenance per minggu

```javascript
// Weekly maintenance (run setiap Minggu)
const guilds = db.prepare('SELECT * FROM guilds').all();

guilds.forEach(guild => {
    const upkeep = calculateUpkeep(guild.level, guild.members);
    // upkeep = 100k √ó level √ó members
    
    const guildBank = db.getGuildBank(guild.id);
    if (guildBank < upkeep) {
        // Disband guild atau reduce level
    } else {
        db.updateGuildBank(guild.id, -upkeep);
        // Money sink: upkeep hilang dari ekonomi
    }
});
```

**Details**:
- **Base Cost**: 100k per minggu
- **Level Multiplier**: √ó level (level 1 = 100k, level 5 = 500k)
- **Member Multiplier**: √ó member count (max 20)
- **Max Upkeep**: 2M per minggu (level 5, 20 members)

**Efektivitas**: ‚≠ê‚≠ê‚≠ê (Sedang)
- ‚úÖ Recurring cost
- ‚úÖ Scales dengan guild size
- ‚ùå Hanya untuk guild members
- ‚ùå Bisa dihindari dengan leave guild

**Perhitungan**:
- 5 guilds dengan average upkeep 500k
- Total = 5 √ó 500k = **2.5M per minggu** = **~357k per hari**

---

### 5. **üéØ BOSS RAID ENTRY FEE** (Priority: MEDIUM)

**Mechanism**: Entry fee untuk join boss raid

```javascript
const BOSS_ENTRY_FEE = {
    'mang_ujang': 50_000,      // Final boss
    'bandar_togel': 25_000,    // Medium boss
    'kang_parkir': 10_000      // Easy boss
};

// User join raid
if (user.balance < entryFee) {
    return 'Uang tidak cukup!';
}

db.updateBalance(userId, -entryFee);
// Entry fee hilang dari ekonomi (money sink)
```

**Details**:
- **Entry Fee**: 10k-50k per raid
- **Frequency**: 1-5x per user per hari
- **Refund**: No refund jika kalah (sink permanent)

**Efektivitas**: ‚≠ê‚≠ê‚≠ê (Sedang)
- ‚úÖ Recurring cost
- ‚úÖ Scales dengan participation
- ‚ùå Bisa dihindari dengan tidak join
- ‚ùå Jumlah kecil

**Perhitungan**:
- 20 user join 3 raids per hari
- Average fee = 25k
- Total = 20 √ó 3 √ó 25k = **1.5M per hari**

---

### 6. **üìä STOCK MARKET TRANSACTION FEE** (Priority: LOW)

**Mechanism**: Fee untuk setiap transaksi saham

```javascript
const TRANSACTION_FEE = 0.01; // 1% per transaction

// User beli saham
const fee = Math.floor(amount * TRANSACTION_FEE);
const netAmount = amount - fee;

db.updateBalance(userId, -netAmount);
// Fee hilang dari ekonomi (money sink)
```

**Details**:
- **Buy Fee**: 1% dari purchase
- **Sell Fee**: 1% dari sale
- **Total Fee**: 2% per round trip (buy + sell)

**Efektivitas**: ‚≠ê‚≠ê‚≠ê (Sedang)
- ‚úÖ Automatic
- ‚úÖ Scales dengan trading volume
- ‚ùå Hanya untuk trader aktif
- ‚ùå Bisa dihindari dengan tidak trade

**Perhitungan**:
- 10 user trade 5M per hari
- Fee = 10 √ó 5M √ó 2% = **1M per hari**

---

## üìä TOTAL MONEY SINK PROJECTION

### **Current Money Sink (Per Hari)**
- Warung + Kantin: ~155k per user
- Gambling House Edge: ~50k per user
- Others: ~80k per user
- **Total: ~285k per user aktif**

### **Proposed Money Sink (Per Hari)**

| Money Sink | Low Estimate | High Estimate | Average |
|------------|--------------|---------------|---------|
| Transfer Tax | 100k | 500k | 300k |
| Maintenance Cost | 200k | 2M | 1M |
| Banking Fees | 100k | 700k | 400k |
| Luxury Items | 0k | 10M | 1M (one-time) |
| Guild Upkeep | 0k | 500k | 200k |
| Boss Entry | 0k | 1.5M | 500k |
| Stock Fees | 0k | 1M | 300k |
| **TOTAL NEW** | **400k** | **16.2M** | **~3.7M** |

### **Combined Money Sink (Per Hari)**

**Untuk 100 User Aktif**:
- Current: 100 √ó 285k = **28.5M per hari**
- New: **~3.7M per hari** (average)
- **Total: ~32.2M per hari**

**Untuk 10 User Kaya (balance >10M)**:
- Maintenance Cost: 10 √ó 100k = **1M per hari**
- Luxury Items: **~1M per hari** (periodic)
- Banking Fees: 10 √ó 50k = **500k per hari**
- **Total: ~2.5M per hari untuk user kaya**

---

## üéØ TARGET RATIO

### **Income vs Money Sink**

**User Baru (Income 75k-150k/hari)**:
- Income: 100k
- Money Sink: 70k-100k
- **Ratio: 60:40** ‚úÖ SEIMBANG

**User Menengah (Income 150k-300k/hari)**:
- Income: 200k
- Money Sink: 150k-200k
- **Ratio: 65:35** ‚úÖ SEIMBANG

**User Kaya (Income 300k-890k/hari)**:
- Income: 500k
- Money Sink (Current): 200k-300k
- Money Sink (With New): 400k-600k
- **Ratio: 55:45** ‚úÖ SEIMBANG (dengan new sinks)

---

## üí° IMPLEMENTATION PRIORITY

### **Phase 1 (Quick Win - 1 minggu)**
1. ‚úÖ **Transfer Tax** (1% untuk >1M)
2. ‚úÖ **Maintenance Cost** (0.1% per hari untuk >10M)
3. ‚úÖ **Banking Withdraw Fee** (1%)

**Expected Sink**: ~1.5M per hari untuk 100 user aktif

### **Phase 2 (Medium Term - 2-3 minggu)**
4. ‚úÖ **Luxury Consumables** (500k-2M items)
5. ‚úÖ **Boss Entry Fee** (10k-50k per raid)
6. ‚úÖ **Banking Loan Interest** (2% per hari)

**Expected Sink**: +2M per hari

### **Phase 3 (Long Term - 1 bulan)**
7. ‚úÖ **Guild Upkeep** (100k-2M per minggu)
8. ‚úÖ **Stock Market Fees** (1% per transaction)
9. ‚úÖ **Luxury Cosmetics** (1M-50M one-time)

**Expected Sink**: +1M per hari (periodic)

---

## üìù MONITORING & ADJUSTMENT

### **Metrics to Track**

1. **Total Money in Economy**
   ```sql
   SELECT SUM(uang_jajan) FROM user_economy;
   ```

2. **Daily Money Flow**
   - Income: Track semua `updateBalance(+, amount)`
   - Sink: Track semua `updateBalance(-, amount)` yang permanent

3. **Money Sink Ratio**
   - Calculate: (Total Sink / Total Income) √ó 100
   - Target: 30-40%

4. **Wealth Distribution**
   - Track Gini coefficient
   - Target: <0.7

### **Adjustment Rules**

- **Jika Money Sink < 30%**: Increase tax rates atau add new sinks
- **Jika Money Sink > 50%**: Reduce tax rates (terlalu aggressive)
- **Jika Inflation Terjadi**: Increase maintenance cost atau add luxury items
- **Jika Deflation Terjadi**: Reduce maintenance cost atau increase income

---

## üéÆ USER EXPERIENCE CONSIDERATIONS

### **Jangan Terlalu Aggressive**

1. **Progressive, Not Punitive**
   - Tax hanya untuk user kaya
   - User baru tidak kena maintenance cost
   - Small transfers tidak kena tax

2. **Give Value for Money**
   - Luxury items harus worth it
   - Banking harus ada benefit (bunga, protection)
   - Boss raid harus ada reward yang sepadan

3. **Transparency**
   - User harus tahu kenapa kena tax
   - Show breakdown di command
   - Explain benefit dari spending

4. **Optional Where Possible**
   - Luxury items = optional
   - Banking = optional (tapi recommended)
   - Guild = optional

---

## ‚úÖ CHECKLIST IMPLEMENTASI

- [ ] Transfer Tax System
- [ ] Maintenance Cost Scheduler
- [ ] Banking System dengan Fees
- [ ] Luxury Items Shop
- [ ] Boss Entry Fee
- [ ] Guild Upkeep System
- [ ] Stock Market Fees
- [ ] Monitoring Dashboard
- [ ] User Notification System
- [ ] Admin Commands untuk Adjust Rates

---

**Kesimpulan**: Money sink yang ada saat ini **tidak cukup** untuk user kaya. Perlu tambahan **automatic money sink** (tax, maintenance) dan **optional high-value sinks** (luxury items) untuk menjaga balance ekonomi.

